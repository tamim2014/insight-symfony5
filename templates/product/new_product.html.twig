{%  extends 'base.html.twig' %}

{% block body %}
	<link rel="stylesheet" href="{{ asset('css/table.css') }}"/>
	<style>
		.example-wrapper {
			margin: 5em auto;
			max-width: 800px;
			width: 95%;
			font: 1.1em sans-serif;
		}
		.example-wrapper code {
			background: #F5F5F5;
			padding: 2px 6px;
		}
		h4 {
			text-decoration: underline;
		}
		/* Rappel à l'utilisateur */
		.aligneDroite {
			float: right !important;
		}

		.message {
			background-color: #ececea;
			padding: 0.7em;
			margin-bottom: 1em;
			margin-top: 1em;
		}
	</style>

	<div
		class="example-wrapper">
		{# {{ form(form) }} #}
		{{  form_start(form) }}
		{{  form_row(form.name,  {'attr': {'placeholder':"Nom du produit ..."}}) }}
		{{  form_row(form.price,  {'attr': { 'placeholder':"Prix du produit "}}) }}
		{{  form_row(form.description,  {'attr': {'placeholder':" "}}) }}
		{{  form_row(form.categorie,  {'attr': {'placeholder':" "}}) }}
		{%  if editMode %}
			<button type="submit" class="btn btn-success">
				Produit ajouté
			</button>
		{%  else %}
			<button type="submit" class="btn btn-primary">
				Ajouter le produit
			</button>
		{%  endif %}
		{{  form_end(form) }}

		<!-- <p> Pour la page update: Choisir le numéro du produit à modifier</p> -->

		{# {% if(produit.id) %}: affichage du resultat Seulement en cas d'opération #}

			{% if(produit.id) %}
				<p class="message"> Vous avez ajouté  le
				<b>
					{{ produit.id }}
				</b>ème produit:
				<span class="aligneDroite">Un
					<b>
						{{ produit.name }}
					</b>
					à
					<b>
						{{ produit.price }}€
					</b>
				</span>
			</p>
			{% for product in produits %}
				<table>
					<tr>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
					</tr>
					<tr>
						<td>
							{{ product.id }}
						</td>
						<td>
							{{ product.name }}
						</td>
						<td>
							{{ product.price }}
							€
						</td>
						<td>
							{{ product.description }}
						</td>
					</tr>
					<tr>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
					</tr>
				</table>
			{% endfor %}
		{% endif %}
	</div>
	<small>
		<i style="color:gray">
			<a href="https://symfony.com/doc/current/doctrine.html#updating-an-object" target="_blanck">SensioLabs1</a>
		</i>
	</small>
	&emsp;
	<small style="bottom:0; color:gray">
		<a href="https://symfony.com/doc/current/doctrine.html#persisting-objects-to-the-database" target="_blanck" style="text-decoration:none">SensioLabs2</a>
	</small>

{% endblock %}
